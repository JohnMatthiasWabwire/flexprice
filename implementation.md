### Overview
I want to implement the proration service. The current implementation is done in create subscription flow but i want to make sure the architecture scalable


### Steps
1. Make sure you move the entire logic to create invoice function
2. While creating the line items calculate the proartion on each price
3. Use the exisiting proration calculator

